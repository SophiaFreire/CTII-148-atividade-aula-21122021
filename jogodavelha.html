<html>
<meta charset="UTF-8">
<html>

<head>

    <title>Jogo da Velha</title>

    <body onload=inicia() bgcolor="MistyRose">

        <h1 align="center">Jogo da Velha</h1><br>
        <center>
            <table border="1" width="500" height="200" bgcolor="E0FFFF">
                <tr>
                    <td align="center">
                        <br>
                        <script language="Javascript">
                            var tabuleiro, borda, aviso, jogador, lin, col;

                            function inicia() {
                                tabuleiro = new Array(3);
                                borda = document.getElementById('borda');
                                aviso = document.getElementById('aviso');
                                jogador = 1;

                                for (let i = 0; i < 3; i++)
                                    tabuleiro[i] = new Array(3);

                                for (let i = 0; i < 3; i++)
                                    for (let j = 0; j < 3; j++)
                                        tabuleiro[i][j] = 0;
                                exibe();

                            }

                            function exibe() {
                                HTML = '<table  cellpadding="20" border="1">';
                                for (let i = 0; i < 3; i++) {
                                    HTML += '<tr>';
                                    for (let j = 0; j < 3; j++)
                                        if (tabuleiro[i][j] == 0)
                                            HTML += '<td>  __  </td>';
                                        else
                                    if (tabuleiro[i][j] == 1)
                                        HTML += '<td> X </td>';
                                    else
                                        HTML += '<td> O </td>';
                                    HTML += '</tr>';
                                }
                                HTML += '</table><br>';
                                borda.innerHTML = HTML

                            }

                            function jogar() {
                                aviso.innerHTML = 'Vez do jogador: ' + ((jogador) % 2 + 1);
                                lin = parseInt(document.getElementById("lin").value) - 1;
                                col = parseInt(document.getElementById("col").value) - 1;

                                if (tabuleiro[lin][col] == 0)
                                    if (jogador % 2)
                                        tabuleiro[lin][col] = 1;
                                    else
                                        tabuleiro[lin][col] = -1;
                                else {
                                    alert('JÃ¡ foi marcado!')
                                    jogador--;
                                }

                                jogador++;
                                exibe();
                                checa();
                            }

                            function checa() {
                                var soma;

                                for (let i = 0; i < 3; i++) {
                                    soma = 0;
                                    soma = tabuleiro[i][0] + tabuleiro[i][1] + tabuleiro[i][2];

                                    if (soma == 3 || soma == -3)
                                        alert("Jogador " + ((jogador) % 2 + 1) + " ganhou!");
                                }

                                for (let i = 0; i < 3; i++) {
                                    soma = 0;
                                    soma = tabuleiro[0][i] + tabuleiro[1][i] + tabuleiro[2][i];

                                    if (soma == 3 || soma == -3)
                                        alert("Jogador " + ((jogador) % 2 + 1) + " ganhou!");
                                }

                                soma = 0;
                                soma = tabuleiro[0][0] + tabuleiro[1][1] + tabuleiro[2][2];
                                if (soma == 3 || soma == -3)
                                    alert("Jogador " + ((jogador) % 2 + 1) + " ganhou!");

                                soma = 0;
                                soma = tabuleiro[0][2] + tabuleiro[1][1] + tabuleiro[2][0];
                                if (soma == 3 || soma == -3)
                                    alert("Jogador " + ((jogador) % 2 + 1) + " ganhou!");
                            }
                        </script>

                        <div id='borda'></div>
                        <p>Linha: <br><input id="lin" type="text" size="3"></p>
                        <p>Coluna: <br><input id="col" type="text" size="3"></p>
                        <p><button onclick="jogar()">Enviar</button></p>
                        <div id='aviso'></div><br>

                    </td align="center">
                </tr>
            </table>
        </center>
    </body>

</html>